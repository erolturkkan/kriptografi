<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One-Time Pad (OTP) - Zero Trust</title>
    <link rel="icon" type="image/svg+xml" href="../assets/zt_favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 min-h-screen">

    <!-- Header -->
    <header class="bg-gray-800 border-b border-gray-700 sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <a href="../index.html" class="flex items-center space-x-2 text-orange-400 hover:text-orange-300">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                    </svg>
                    <span class="font-semibold">Ana Sayfaya DÃ¶n</span>
                </a>
                <div class="flex items-center space-x-2">
                    <img src="../assets/zt (160 x 160 piksel).svg" alt="Zero Trust" class="w-8 h-8 object-contain">
                    
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <!-- Info Section -->
        <section class="bg-gray-800 rounded-xl p-6 md:p-8 mb-8 border border-gray-700">
            <h2 class="text-3xl font-bold text-white mb-4">ğŸ” One-Time Pad (OTP) Nedir?</h2>
            <div class="text-gray-300 space-y-3">
                <p>
                    <strong>One-Time Pad (Tek KullanÄ±mlÄ±k Anahtar)</strong>, matematiksel olarak kÄ±rÄ±lamaz 
                    olduÄŸu kanÄ±tlanmÄ±ÅŸ tek ÅŸifreleme yÃ¶ntemidir. Bu yÃ¶ntem, mesaj ile aynÄ± uzunlukta 
                    tamamen rastgele bir anahtar kullanÄ±r.
                </p>
                
                <div class="bg-gray-900 rounded-lg p-4 my-4">
                    <h3 class="font-semibold text-orange-400 mb-3">ğŸ“‹ OTP KurallarÄ± (Ã‡ok Kritik!):</h3>
                    <div class="space-y-2">
                        <div class="flex items-start gap-2">
                            <span class="text-orange-400 mt-1">1.</span>
                            <p><strong>Anahtar mesaj kadar uzun olmalÄ±:</strong> Her karakter iÃ§in bir anahtar biti</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-orange-400 mt-1">2.</span>
                            <p><strong>Anahtar tamamen rastgele olmalÄ±:</strong> Tahmin edilemez olmalÄ±</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-orange-400 mt-1">3.</span>
                            <p><strong>Anahtar sadece bir kez kullanÄ±lmalÄ±:</strong> Tekrar kullanÄ±m = gÃ¼venlik kaybÄ±</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-orange-400 mt-1">4.</span>
                            <p><strong>Anahtar gizli tutulmalÄ±:</strong> Sadece gÃ¶nderen ve alÄ±cÄ± bilmeli</p>
                        </div>
                    </div>
                </div>

                <div class="bg-orange-900/20 border border-orange-700 rounded-lg p-4">
                    <p class="text-orange-300">
                        <strong>âš ï¸ Ã–nemli:</strong> Bu kurallardan biri bile ihlal edilirse, OTP'nin 
                        "kÄ±rÄ±lamaz" Ã¶zelliÄŸi kaybolur! Pratik uygulamalarda anahtar daÄŸÄ±tÄ±mÄ± Ã§ok zordur.
                    </p>
                </div>

                <div class="bg-blue-900/20 border border-blue-700 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-400 mb-2">ğŸ¯ NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h3>
                    <p class="text-sm">
                        OTP, XOR (Exclusive OR) iÅŸlemi kullanÄ±r. Her mesaj karakteri, karÅŸÄ±lÄ±k gelen 
                        anahtar karakteri ile XOR'lanÄ±r. AynÄ± anahtar ile tekrar XOR yapÄ±nca orijinal mesaj elde edilir.
                    </p>
                </div>
            </div>
        </section>

        <!-- OTP Tool -->
        <section class="bg-gray-800 rounded-xl p-6 md:p-8 mb-8 border border-gray-700">
            <h3 class="text-2xl font-bold text-white mb-6">ğŸ› ï¸ OTP Åifreleme AracÄ±</h3>
            
            <!-- Mode Selection -->
            <div class="flex justify-center mb-6">
                <div class="bg-gray-900 rounded-lg p-1 inline-flex">
                    <button id="encryptMode" class="px-6 py-2 rounded-md font-semibold transition bg-orange-500 text-gray-900">
                        Åifrele
                    </button>
                    <button id="decryptMode" class="px-6 py-2 rounded-md font-semibold transition text-gray-400">
                        Ã‡Ã¶z
                    </button>
                </div>
            </div>

            <!-- Encrypt Section -->
            <div id="encryptSection">
                <div class="space-y-4">
                    <div>
                        <label class="block text-lg font-semibold text-gray-200 mb-2">MesajÄ±nÄ±z</label>
                        <textarea id="messageInput" rows="4" placeholder="Åifrelenecek mesajÄ± yazÄ±n..."
                            class="w-full p-4 bg-gray-900 border-2 border-gray-700 rounded-lg focus:outline-none focus:border-orange-500 transition resize-none"></textarea>
                        <div class="text-sm text-gray-400 mt-1">
                            Mesaj uzunluÄŸu: <span id="messageLength">0</span> karakter
                        </div>
                    </div>

                    <div>
                        <div class="flex items-center justify-between mb-2">
                            <label class="text-lg font-semibold text-gray-200">Anahtar (Key)</label>
                            <button id="generateKey" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition">
                                ğŸ² Rastgele OluÅŸtur
                            </button>
                        </div>
                        <textarea id="keyInput" rows="4" placeholder="Anahtar buraya yazÄ±lacak veya elle girebilirsiniz..."
                            class="w-full p-4 bg-gray-900 border-2 border-gray-700 rounded-lg focus:outline-none focus:border-orange-500 transition resize-none font-mono"></textarea>
                        <div class="text-sm text-gray-400 mt-1">
                            Anahtar uzunluÄŸu: <span id="keyLength">0</span> karakter
                        </div>
                    </div>

                    <button id="encryptBtn" class="w-full bg-orange-500 hover:bg-orange-600 text-gray-900 font-bold py-3 rounded-lg transition">
                        Åifrele
                    </button>

                    <div id="encryptedOutput" class="hidden">
                        <label class="block text-lg font-semibold text-gray-200 mb-2">Åifreli Mesaj (Hex)</label>
                        <div class="bg-gray-900 border-2 border-orange-600 rounded-lg p-4 font-mono text-orange-400 break-all">
                            <div id="encryptedText"></div>
                        </div>
                        <button onclick="copyToClipboard('encryptedText')" class="mt-2 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition">
                            Kopyala
                        </button>
                    </div>
                </div>
            </div>

            <!-- Decrypt Section -->
            <div id="decryptSection" class="hidden">
                <div class="space-y-4">
                    <div>
                        <label class="block text-lg font-semibold text-gray-200 mb-2">Åifreli Mesaj (Hex)</label>
                        <textarea id="encryptedInput" rows="4" placeholder="Hex formatÄ±nda ÅŸifreli mesajÄ± yapÄ±ÅŸtÄ±rÄ±n..."
                            class="w-full p-4 bg-gray-900 border-2 border-gray-700 rounded-lg focus:outline-none focus:border-orange-500 transition resize-none font-mono"></textarea>
                    </div>

                    <div>
                        <label class="block text-lg font-semibold text-gray-200 mb-2">Anahtar (Key)</label>
                        <textarea id="decryptKeyInput" rows="4" placeholder="Åifreleme sÄ±rasÄ±nda kullanÄ±lan anahtarÄ± girin..."
                            class="w-full p-4 bg-gray-900 border-2 border-gray-700 rounded-lg focus:outline-none focus:border-orange-500 transition resize-none font-mono"></textarea>
                    </div>

                    <button id="decryptBtn" class="w-full bg-orange-500 hover:bg-orange-600 text-gray-900 font-bold py-3 rounded-lg transition">
                        Åifreyi Ã‡Ã¶z
                    </button>

                    <div id="decryptedOutput" class="hidden">
                        <label class="block text-lg font-semibold text-gray-200 mb-2">Ã‡Ã¶zÃ¼lmÃ¼ÅŸ Mesaj</label>
                        <div class="bg-gray-900 border-2 border-green-600 rounded-lg p-4 text-green-400">
                            <div id="decryptedText"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="feedback" class="mt-4 hidden"></div>
        </section>

        <!-- Example -->
        <section class="bg-gray-800 rounded-xl p-6 md:p-8 mb-8 border border-gray-700">
            <h3 class="text-2xl font-bold text-white mb-4">ğŸ’¡ Ã–rnek KullanÄ±m</h3>
            <div class="bg-gray-900 rounded-lg p-4 space-y-3 text-sm">
                <div>
                    <span class="text-gray-400">Mesaj:</span>
                    <span class="text-white ml-2 font-mono">HELLO</span>
                </div>
                <div>
                    <span class="text-gray-400">Anahtar:</span>
                    <span class="text-orange-400 ml-2 font-mono">XMCKL</span>
                </div>
                <div class="border-t border-gray-700 pt-2">
                    <div class="mb-2 text-gray-400">XOR Ä°ÅŸlemi (Her karakter iÃ§in):</div>
                    <div class="font-mono text-xs space-y-1 text-gray-300">
                        <div>H (72) XOR X (88) = 16 â†’ 10</div>
                        <div>E (69) XOR M (77) = 8 â†’ 08</div>
                        <div>L (76) XOR C (67) = 11 â†’ 0B</div>
                        <div>L (76) XOR K (75) = 3 â†’ 03</div>
                        <div>O (79) XOR L (76) = 7 â†’ 07</div>
                    </div>
                </div>
                <div class="border-t border-gray-700 pt-2">
                    <span class="text-gray-400">Åifreli (Hex):</span>
                    <span class="text-orange-400 ml-2 font-mono">10080B0307</span>
                </div>
            </div>
            <button onclick="loadExample()" class="mt-4 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm transition">
                Bu Ã–rneÄŸi YÃ¼kle
            </button>
        </section>

        <!-- Security Warning -->
        <section class="bg-red-900/20 border border-red-700 rounded-xl p-6 md:p-8">
            <h3 class="text-2xl font-bold text-red-400 mb-4">âš ï¸ GÃ¼venlik UyarÄ±larÄ±</h3>
            <div class="space-y-3 text-gray-300">
                <div class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âŒ</span>
                    <p><strong>AnahtarÄ± Tekrar KullanmayÄ±n:</strong> AynÄ± anahtarÄ± iki farklÄ± mesaj iÃ§in kullanÄ±rsanÄ±z, 
                    kriptanaliz yapÄ±larak her iki mesaj da Ã§Ã¶zÃ¼lebilir!</p>
                </div>
                <div class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âŒ</span>
                    <p><strong>Tahmin Edilebilir Anahtar KullanmayÄ±n:</strong> "12345" veya "aaaaa" gibi 
                    anahtarlar gÃ¼venli deÄŸildir. GerÃ§ek rastgele veriler kullanÄ±n.</p>
                </div>
                <div class="flex items-start gap-3">
                    <span class="text-red-400 text-xl">âŒ</span>
                    <p><strong>KÄ±sa Anahtar KullanmayÄ±n:</strong> Anahtar mutlaka mesaj kadar uzun olmalÄ±dÄ±r.</p>
                </div>
                <div class="flex items-start gap-3">
                    <span class="text-green-400 text-xl">âœ…</span>
                    <p><strong>EÄŸitim AmaÃ§lÄ±:</strong> Bu araÃ§ eÄŸitim amaÃ§lÄ±dÄ±r. GerÃ§ek gizli iletiÅŸim iÃ§in 
                    modern standart algoritmalarÄ± (AES, RSA) kullanÄ±n.</p>
                </div>
            </div>
        </section>

    </div>

    <script>
        let mode = 'encrypt';

        // Mode switching
        document.getElementById('encryptMode').addEventListener('click', () => {
            mode = 'encrypt';
            document.getElementById('encryptMode').classList.add('bg-orange-500', 'text-gray-900');
            document.getElementById('encryptMode').classList.remove('text-gray-400');
            document.getElementById('decryptMode').classList.remove('bg-orange-500', 'text-gray-900');
            document.getElementById('decryptMode').classList.add('text-gray-400');
            document.getElementById('encryptSection').classList.remove('hidden');
            document.getElementById('decryptSection').classList.add('hidden');
        });

        document.getElementById('decryptMode').addEventListener('click', () => {
            mode = 'decrypt';
            document.getElementById('decryptMode').classList.add('bg-orange-500', 'text-gray-900');
            document.getElementById('decryptMode').classList.remove('text-gray-400');
            document.getElementById('encryptMode').classList.remove('bg-orange-500', 'text-gray-900');
            document.getElementById('encryptMode').classList.add('text-gray-400');
            document.getElementById('decryptSection').classList.remove('hidden');
            document.getElementById('encryptSection').classList.add('hidden');
        });

        // Update lengths
        document.getElementById('messageInput').addEventListener('input', (e) => {
            document.getElementById('messageLength').textContent = e.target.value.length;
        });

        document.getElementById('keyInput').addEventListener('input', (e) => {
            document.getElementById('keyLength').textContent = e.target.value.length;
        });

        // Generate random key
        document.getElementById('generateKey').addEventListener('click', () => {
            const messageLength = document.getElementById('messageInput').value.length;
            if (messageLength === 0) {
                showFeedback('Ã–nce bir mesaj yazÄ±n!', 'error');
                return;
            }
            
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
            let key = '';
            for (let i = 0; i < messageLength; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById('keyInput').value = key;
            document.getElementById('keyLength').textContent = key.length;
        });

        // Encrypt
        document.getElementById('encryptBtn').addEventListener('click', () => {
            const message = document.getElementById('messageInput').value;
            const key = document.getElementById('keyInput').value;

            if (!message || !key) {
                showFeedback('LÃ¼tfen hem mesaj hem de anahtar girin!', 'error');
                return;
            }

            if (message.length !== key.length) {
                showFeedback(`UyarÄ±: Anahtar uzunluÄŸu (${key.length}) mesaj uzunluÄŸu (${message.length}) ile eÅŸit deÄŸil! OTP kurallarÄ± ihlal ediliyor.`, 'warning');
            }

            const encrypted = xorEncrypt(message, key);
            document.getElementById('encryptedText').textContent = encrypted;
            document.getElementById('encryptedOutput').classList.remove('hidden');
            showFeedback('Mesaj baÅŸarÄ±yla ÅŸifrelendi!', 'success');
        });

        // Decrypt
        document.getElementById('decryptBtn').addEventListener('click', () => {
            const encrypted = document.getElementById('encryptedInput').value.trim();
            const key = document.getElementById('decryptKeyInput').value;

            if (!encrypted || !key) {
                showFeedback('LÃ¼tfen hem ÅŸifreli mesaj hem de anahtar girin!', 'error');
                return;
            }

            try {
                const decrypted = xorDecrypt(encrypted, key);
                document.getElementById('decryptedText').textContent = decrypted;
                document.getElementById('decryptedOutput').classList.remove('hidden');
                showFeedback('Mesaj baÅŸarÄ±yla Ã§Ã¶zÃ¼ldÃ¼!', 'success');
            } catch (error) {
                showFeedback('Hata: GeÃ§ersiz ÅŸifreli mesaj formatÄ±!', 'error');
            }
        });

        function xorEncrypt(message, key) {
            let result = '';
            for (let i = 0; i < message.length; i++) {
                const messageChar = message.charCodeAt(i);
                const keyChar = key.charCodeAt(i % key.length);
                const encrypted = messageChar ^ keyChar;
                result += encrypted.toString(16).padStart(2, '0');
            }
            return result.toUpperCase();
        }

        function xorDecrypt(encryptedHex, key) {
            let result = '';
            for (let i = 0; i < encryptedHex.length; i += 2) {
                const encryptedByte = parseInt(encryptedHex.substr(i, 2), 16);
                const keyChar = key.charCodeAt((i / 2) % key.length);
                const decrypted = encryptedByte ^ keyChar;
                result += String.fromCharCode(decrypted);
            }
            return result;
        }

        function showFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            feedback.classList.remove('hidden');
            
            if (type === 'success') {
                feedback.className = 'mt-4 bg-green-900 border border-green-500 text-green-200 p-4 rounded-lg';
            } else if (type === 'error') {
                feedback.className = 'mt-4 bg-red-900 border border-red-500 text-red-200 p-4 rounded-lg';
            } else if (type === 'warning') {
                feedback.className = 'mt-4 bg-yellow-900 border border-yellow-500 text-yellow-200 p-4 rounded-lg';
            }
            
            feedback.textContent = message;
        }

        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                showFeedback('Panoya kopyalandÄ±!', 'success');
            });
        }

        function loadExample() {
            document.getElementById('messageInput').value = 'HELLO';
            document.getElementById('keyInput').value = 'XMCKL';
            document.getElementById('messageLength').textContent = '5';
            document.getElementById('keyLength').textContent = '5';
            showFeedback('Ã–rnek yÃ¼klendi! Åimdi "Åifrele" butonuna tÄ±klayÄ±n.', 'success');
        }
    </script>

</body>
</html>
